(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3566:function(e,n,t){Promise.resolve().then(t.bind(t,6839))},6839:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return c}});var i=t(7090),o=t(3882),s=t(7486),a=t(6246),l=t(8979),r=function(e,n,t,i){let o;let a=l=>{o||(o=l);let r=Math.min((l-o)/t,1),c=new s.Pa4().lerpVectors(e,n,r);i.object.position.copy(c),r<1&&requestAnimationFrame(a)};requestAnimationFrame(a)},c=function(){let e=(0,o.useRef)(null);return(0,o.useEffect)(()=>{let n=e.current;if(!n)return;let t=new s.xsS;t.background=new s.Ilk("black");let i=new s.CP7({canvas:n});i.setSize(n.clientWidth,n.clientHeight);let o=new s.cPb(30,1);o.position.set(0,1,3);let c=new s.Ox3("purple",10),d=new s.Ox3("purple",10),w=new s.Ox3("white",5),u=new s.Ox3("white",5);u.position.set(0,20,0),c.position.set(-10,-20,5),w.position.set(0,-.5,0),d.position.set(10,-20,5),t.add(w),t.add(u),t.add(c),t.add(d);let p=new a.z(o,n);p.enableDamping=!0,p.dampingFactor=.2;let m=new l.E,f=async()=>{m.load("/aladdin/genie/scene.gltf",e=>{e.scene.scale.set(1.5,1.5,1.5),e.scene.position.set(0,1.9,0),e.scene.rotation.set(1.2,0,0),t.add(e.scene)})};m.load("/aladdin/lamp/scene.gltf",e=>{t.add(e.scene)});let h=()=>{let e=window.innerWidth,n=window.innerHeight;i.setSize(e,n),o.aspect=e/n,o.updateProjectionMatrix()},g=()=>{r(p.object.position.clone(),new s.Pa4(0,-6,3),2e3,p)},b=async e=>{let n=new s.FM8(e.clientX/window.innerWidth*2-1,-(e.clientY/window.innerHeight*2)+1),i=new s.iMs;i.setFromCamera(n,o);let a=i.intersectObjects(t.children,!0);if(a.length>0){let e=a[0].object;console.log(a),"LampBottom_0"===e.name&&(console.log(e.name),await f(),g())}},k=()=>{p.update(),i.render(t,o),requestAnimationFrame(k)};return window.addEventListener("click",b),window.addEventListener("resize",h),h(),k(),()=>{window.removeEventListener("click",b),window.removeEventListener("resize",h)}},[]),(0,i.jsx)("canvas",{ref:e,className:"w-full h-screen"})}}},function(e){e.O(0,[116,894,546,538,744],function(){return e(e.s=3566)}),_N_E=e.O()}]);